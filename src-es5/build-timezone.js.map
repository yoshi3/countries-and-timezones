{"version":3,"sources":["../src/build-timezone.js"],"names":["isInteger","value","isFinite","Math","floor","buildTimezone","data","name","timezone","timezones","a","aliasOf","aliasTz","tz","country","c","utcOffset","u","dstOffset","d","utcOffsetStr","getOffsetStr","dstOffsetStr","offset","hours","min","sign","getNumStr","input","num","abs","prefix","module","exports"],"mappings":";;;;;;;;AAAA,SAASA,SAAT,CAAmBC,KAAnB,EAA0B;AACxB,SAAO,OAAOA,KAAP,KAAiB,QAAjB,IACLC,QAAQ,CAACD,KAAD,CADH,IAELE,IAAI,CAACC,KAAL,CAAWH,KAAX,MAAsBA,KAFxB;AAGD;;AAAA;;AAED,SAASI,aAAT,CAAuBC,IAAvB,EAA6BC,IAA7B,EAAmC;AACjC,MAAMC,QAAQ,GAAGF,IAAI,CAACG,SAAL,CAAeF,IAAf,CAAjB;AACA,MAAI,CAACC,QAAL,EAAe,OAAO,IAAP;AAFkB,oBAILA,QAJK,CAI1BE,CAJ0B;AAAA,MAIvBC,OAJuB,4BAIb,IAJa;AAKjC,MAAMC,OAAO,GAAGD,OAAO,GAAGL,IAAI,CAACG,SAAL,CAAeE,OAAf,CAAH,GAA6B,EAApD;;AACA,MAAME,EAAE,qBACHD,OADG,MAEHN,IAAI,CAACG,SAAL,CAAeF,IAAf,CAFG,CAAR;;AAKA,MAAMO,OAAO,GAAGD,EAAE,CAACE,CAAH,IAAQ,IAAxB;AACA,MAAMC,SAAS,GAAGH,EAAE,CAACI,CAArB;AACA,MAAMC,SAAS,GAAGlB,SAAS,CAACa,EAAE,CAACM,CAAJ,CAAT,GAAkBN,EAAE,CAACM,CAArB,GAAyBH,SAA3C;AAEA,SAAO;AACLT,IAAAA,IAAI,EAAJA,IADK;AAELO,IAAAA,OAAO,EAAPA,OAFK;AAGLE,IAAAA,SAAS,EAATA,SAHK;AAILI,IAAAA,YAAY,EAAEC,YAAY,CAACL,SAAD,CAJrB;AAKLE,IAAAA,SAAS,EAATA,SALK;AAMLI,IAAAA,YAAY,EAAED,YAAY,CAACH,SAAD,CANrB;AAOLP,IAAAA,OAAO,EAAPA;AAPK,GAAP;AASD;;AAED,SAASU,YAAT,CAAsBE,MAAtB,EAA8B;AAC5B,MAAMC,KAAK,GAAGrB,IAAI,CAACC,KAAL,CAAWmB,MAAM,GAAG,EAApB,CAAd;AACA,MAAME,GAAG,GAAGF,MAAM,GAAG,EAArB;AACA,MAAMG,IAAI,GAAGH,MAAM,GAAG,CAAT,GAAa,GAAb,GAAmB,GAAhC;AAEA,mBAAUG,IAAV,SAAiBC,SAAS,CAACH,KAAD,CAA1B,cAAqCG,SAAS,CAACF,GAAD,CAA9C;AACD;;AAED,SAASE,SAAT,CAAmBC,KAAnB,EAA0B;AACxB,MAAMC,GAAG,GAAG1B,IAAI,CAAC2B,GAAL,CAASF,KAAT,CAAZ;AACA,MAAMG,MAAM,GAAGF,GAAG,GAAG,EAAN,GAAW,GAAX,GAAiB,EAAhC;AACA,mBAAUE,MAAV,SAAmBF,GAAnB;AACD;;AAEDG,MAAM,CAACC,OAAP,GAAiB5B,aAAjB","sourcesContent":["function isInteger(value) {\n  return typeof value === 'number' && \n    isFinite(value) && \n    Math.floor(value) === value;\n};\n\nfunction buildTimezone(data, name) {\n  const timezone = data.timezones[name];\n  if (!timezone) return null;\n\n  const {a: aliasOf = null} = timezone;\n  const aliasTz = aliasOf ? data.timezones[aliasOf] : {};\n  const tz = {\n    ...aliasTz,\n    ...data.timezones[name]\n  };\n\n  const country = tz.c || null;\n  const utcOffset = tz.u;\n  const dstOffset = isInteger(tz.d) ? tz.d : utcOffset;\n\n  return {\n    name,\n    country,\n    utcOffset,\n    utcOffsetStr: getOffsetStr(utcOffset),\n    dstOffset,\n    dstOffsetStr: getOffsetStr(dstOffset),\n    aliasOf\n  };\n}\n\nfunction getOffsetStr(offset) {\n  const hours = Math.floor(offset / 60);\n  const min = offset % 60;\n  const sign = offset < 0 ? '-' : '+';\n\n  return `${sign}${getNumStr(hours)}:${getNumStr(min)}`;\n}\n\nfunction getNumStr(input) {\n  const num = Math.abs(input);\n  const prefix = num < 10 ? '0' : '';\n  return `${prefix}${num}`;\n}\n\nmodule.exports = buildTimezone;\n"],"file":"build-timezone.js"}