{"version":3,"sources":["../src/build-timezone.js"],"names":["buildTimezone","data","name","timezone","timezones","a","aliasOf","aliasTz","tz","country","c","utcOffset","u","dstOffset","Number","isInteger","d","utcOffsetStr","getOffsetStr","dstOffsetStr","offset","hours","Math","floor","min","sign","getNumStr","input","num","abs","prefix","module","exports"],"mappings":";;;;;;;;AAAA,SAASA,aAAT,CAAuBC,IAAvB,EAA6BC,IAA7B,EAAmC;AACjC,MAAMC,QAAQ,GAAGF,IAAI,CAACG,SAAL,CAAeF,IAAf,CAAjB;AACA,MAAI,CAACC,QAAL,EAAe,OAAO,IAAP;AAFkB,oBAILA,QAJK,CAI1BE,CAJ0B;AAAA,MAIvBC,OAJuB,4BAIb,IAJa;AAKjC,MAAMC,OAAO,GAAGD,OAAO,GAAGL,IAAI,CAACG,SAAL,CAAeE,OAAf,CAAH,GAA6B,EAApD;;AACA,MAAME,EAAE,qBACHD,OADG,MAEHN,IAAI,CAACG,SAAL,CAAeF,IAAf,CAFG,CAAR;;AAKA,MAAMO,OAAO,GAAGD,EAAE,CAACE,CAAH,IAAQ,IAAxB;AACA,MAAMC,SAAS,GAAGH,EAAE,CAACI,CAArB;AACA,MAAMC,SAAS,GAAGC,MAAM,CAACC,SAAP,CAAiBP,EAAE,CAACQ,CAApB,IAAyBR,EAAE,CAACQ,CAA5B,GAAgCL,SAAlD;AAEA,SAAO;AACLT,IAAAA,IAAI,EAAJA,IADK;AAELO,IAAAA,OAAO,EAAPA,OAFK;AAGLE,IAAAA,SAAS,EAATA,SAHK;AAILM,IAAAA,YAAY,EAAEC,YAAY,CAACP,SAAD,CAJrB;AAKLE,IAAAA,SAAS,EAATA,SALK;AAMLM,IAAAA,YAAY,EAAED,YAAY,CAACL,SAAD,CANrB;AAOLP,IAAAA,OAAO,EAAPA;AAPK,GAAP;AASD;;AAED,SAASY,YAAT,CAAsBE,MAAtB,EAA8B;AAC5B,MAAMC,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWH,MAAM,GAAG,EAApB,CAAd;AACA,MAAMI,GAAG,GAAGJ,MAAM,GAAG,EAArB;AACA,MAAMK,IAAI,GAAGL,MAAM,GAAG,CAAT,GAAa,GAAb,GAAmB,GAAhC;AAEA,mBAAUK,IAAV,SAAiBC,SAAS,CAACL,KAAD,CAA1B,cAAqCK,SAAS,CAACF,GAAD,CAA9C;AACD;;AAED,SAASE,SAAT,CAAmBC,KAAnB,EAA0B;AACxB,MAAMC,GAAG,GAAGN,IAAI,CAACO,GAAL,CAASF,KAAT,CAAZ;AACA,MAAMG,MAAM,GAAGF,GAAG,GAAG,EAAN,GAAW,GAAX,GAAiB,EAAhC;AACA,mBAAUE,MAAV,SAAmBF,GAAnB;AACD;;AAEDG,MAAM,CAACC,OAAP,GAAiBhC,aAAjB","sourcesContent":["function buildTimezone(data, name) {\n  const timezone = data.timezones[name];\n  if (!timezone) return null;\n\n  const {a: aliasOf = null} = timezone;\n  const aliasTz = aliasOf ? data.timezones[aliasOf] : {};\n  const tz = {\n    ...aliasTz,\n    ...data.timezones[name]\n  };\n\n  const country = tz.c || null;\n  const utcOffset = tz.u;\n  const dstOffset = Number.isInteger(tz.d) ? tz.d : utcOffset;\n\n  return {\n    name,\n    country,\n    utcOffset,\n    utcOffsetStr: getOffsetStr(utcOffset),\n    dstOffset,\n    dstOffsetStr: getOffsetStr(dstOffset),\n    aliasOf\n  };\n}\n\nfunction getOffsetStr(offset) {\n  const hours = Math.floor(offset / 60);\n  const min = offset % 60;\n  const sign = offset < 0 ? '-' : '+';\n\n  return `${sign}${getNumStr(hours)}:${getNumStr(min)}`;\n}\n\nfunction getNumStr(input) {\n  const num = Math.abs(input);\n  const prefix = num < 10 ? '0' : '';\n  return `${prefix}${num}`;\n}\n\nmodule.exports = buildTimezone;\n"],"file":"build-timezone.js"}