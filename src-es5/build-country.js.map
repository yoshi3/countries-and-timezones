{"version":3,"sources":["../src/build-country.js"],"names":["timezonesMap","buildCountry","data","id","name","countries","tzMap","getTimezonesMap","timezones","buildTimezonesMap","Object","keys","reduce","result","tz","c","a","aliasTz","country","push","module","exports"],"mappings":";;AAAA,IAAIA,YAAJ;;AAEA,SAASC,YAAT,CAAsBC,IAAtB,EAA4BC,EAA5B,EAAgC;AAC9B,MAAMC,IAAI,GAAGF,IAAI,CAACG,SAAL,CAAeF,EAAf,CAAb;AACA,MAAI,CAACC,IAAL,EAAW,OAAO,IAAP;AAEX,MAAME,KAAK,GAAGC,eAAe,CAACL,IAAD,CAA7B;AACA,MAAMM,SAAS,GAAGF,KAAK,CAACH,EAAD,CAAL,IAAa,EAA/B;AAEA,SAAO;AACLA,IAAAA,EAAE,EAAFA,EADK;AAELC,IAAAA,IAAI,EAAJA,IAFK;AAGLI,IAAAA,SAAS,EAATA;AAHK,GAAP;AAKD;;AAED,SAASD,eAAT,CAAyBL,IAAzB,EAA+B;AAC7B,MAAI,CAACF,YAAL,EAAmBA,YAAY,GAAGS,iBAAiB,CAACP,IAAD,CAAhC;AACnB,SAAOF,YAAP;AACD;;AAAA;;AAED,SAASS,iBAAT,CAA2BP,IAA3B,EAAiC;AAC/B,SAAOQ,MAAM,CAACC,IAAP,CAAYT,IAAI,CAACM,SAAjB,EAA4BI,MAA5B,CAAmC,UAACC,MAAD,EAASV,EAAT,EAAgB;AACxD,QAAMW,EAAE,GAAGZ,IAAI,CAACM,SAAL,CAAeL,EAAf,CAAX;AADwD,QAEjDY,CAFiD,GAEzCD,EAFyC,CAEjDC,CAFiD;AAAA,QAE9CC,CAF8C,GAEzCF,EAFyC,CAE9CE,CAF8C;AAGxD,QAAMC,OAAO,GAAGf,IAAI,CAACM,SAAL,CAAeQ,CAAf,KAAqB,EAArC;AACA,QAAME,OAAO,GAAGH,CAAC,IAAIE,OAAO,CAACF,CAA7B;AAEA,QAAI,CAACG,OAAL,EAAc,OAAOL,MAAP;AAEd,QAAI,CAACA,MAAM,CAACK,OAAD,CAAX,EAAsBL,MAAM,CAACK,OAAD,CAAN,GAAkB,EAAlB;AACtBL,IAAAA,MAAM,CAACK,OAAD,CAAN,CAAgBC,IAAhB,CAAqBhB,EAArB;AAEA,WAAOU,MAAP;AACD,GAZM,EAYJ,EAZI,CAAP;AAaD;;AAEDO,MAAM,CAACC,OAAP,GAAiBpB,YAAjB","sourcesContent":["let timezonesMap;\n\nfunction buildCountry(data, id) {\n  const name = data.countries[id];\n  if (!name) return null;\n\n  const tzMap = getTimezonesMap(data);\n  const timezones = tzMap[id] || [];\n\n  return {\n    id,\n    name,\n    timezones\n  };\n}\n\nfunction getTimezonesMap(data) {\n  if (!timezonesMap) timezonesMap = buildTimezonesMap(data);\n  return timezonesMap;\n};\n\nfunction buildTimezonesMap(data) {\n  return Object.keys(data.timezones).reduce((result, id) => {\n    const tz = data.timezones[id];\n    const {c, a} = tz;\n    const aliasTz = data.timezones[a] || {};\n    const country = c || aliasTz.c;\n\n    if (!country) return result;\n\n    if (!result[country]) result[country] = [];\n    result[country].push(id);\n\n    return result;\n  }, {});\n}\n\nmodule.exports = buildCountry;\n"],"file":"build-country.js"}